<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.2.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.jpg"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.ico"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.ico"><link rel="mask-icon" href="/images/logo.svg" color="#222"><meta name="google-site-verification" content="INib61UyYabZlsc0LPzbi5O2qlux9S7YlcvrRdmFOmU"><meta name="msvalidate.01" content="A117C8AE0DF96AAEC2BC9D4914C0B404"><meta name="yandex-verification" content="2c7e88b2e774befb"><meta name="baidu-site-verification" content="codeva-Hhmgc2znuV"><meta name="360-site-verification" content="99dc35dba24d3316a5c4165a21d1c8b2"><meta name="sogou_site_verification" content="n0MrA7DawS"><meta name="bytedance-verification-code" content="T5+8Lbmr5HPdlA87vM/H"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous"><script class="next-config" data-name="main" type="application/json">{"hostname":"blog.xxin.xyz","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.12.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":true}}</script><script src="/js/config.js"></script><meta name="description" content="Android文件选择器，支持Android 5到Android 13，完善的文件选择功能，大程度自定义界面样式，支持Android&#x2F;data、Android&#x2F;obb目录访问，图片、视频、GIP略缩图显示，支持Activity和注入frameLayout两种启动方式"><meta property="og:type" content="article"><meta property="og:title" content="FileSelector使用手册"><meta property="og:url" content="https://blog.xxin.xyz/2024/01/19/FileSelector%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C/index.html"><meta property="og:site_name" content="小信笔记"><meta property="og:description" content="Android文件选择器，支持Android 5到Android 13，完善的文件选择功能，大程度自定义界面样式，支持Android&#x2F;data、Android&#x2F;obb目录访问，图片、视频、GIP略缩图显示，支持Activity和注入frameLayout两种启动方式"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://img.xxin.xyz/img/admin/2024/01/19/11a69gn.png"><meta property="og:image" content="https://img.xxin.xyz/img/admin/2024/01/19/11bgyiw.png"><meta property="og:image" content="https://img.xxin.xyz/img/admin/2024/01/19/11choh2.png"><meta property="og:image" content="https://img.xxin.xyz/img/admin/2024/01/19/11cmjwo.png"><meta property="article:published_time" content="2024-01-19T14:46:00.000Z"><meta property="article:modified_time" content="2024-01-22T12:30:19.995Z"><meta property="article:author" content="xxin"><meta property="article:tag" content="Android开发手记"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://img.xxin.xyz/img/admin/2024/01/19/11a69gn.png"><link rel="canonical" href="https://blog.xxin.xyz/2024/01/19/FileSelector%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://blog.xxin.xyz/2024/01/19/FileSelector%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C/","path":"2024/01/19/FileSelector使用手册/","title":"FileSelector使用手册"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>FileSelector使用手册 | 小信笔记</title><noscript><link rel="stylesheet" href="/css/noscript.css"></noscript></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">小信笔记</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">逃避思考，热爱幻想</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-links"><a href="/links/" rel="section"><i class="fa fa-link fa-fw"></i>友链</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BC%95%E7%94%A8%E6%96%B9%E5%BC%8F"><span class="nav-number">1.</span> <span class="nav-text">引用方式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%AF%E5%8A%A8%E6%96%B9%E5%BC%8F"><span class="nav-number">2.</span> <span class="nav-text">启动方式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E6%96%87%E4%BB%B6"><span class="nav-number">3.</span> <span class="nav-text">操作文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="nav-number">4.</span> <span class="nav-text">基本使用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E8%B5%B7%E5%A7%8B%E8%B7%AF%E5%BE%84"><span class="nav-number">4.1.</span> <span class="nav-text">设置起始路径</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E6%8E%92%E5%BA%8F%E8%A7%84%E5%88%99"><span class="nav-number">4.2.</span> <span class="nav-text">设置排序规则</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%96%87%E4%BB%B6%E5%9B%BE%E6%A0%87"><span class="nav-number">4.3.</span> <span class="nav-text">自定义文件图标</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9C%AA%E7%9F%A5%E6%96%87%E4%BB%B6%E5%9B%BE%E6%A0%87"><span class="nav-number">4.3.1.</span> <span class="nav-text">未知文件图标</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E5%A4%B9%E5%9B%BE%E6%A0%87"><span class="nav-number">4.3.2.</span> <span class="nav-text">文件夹图标</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BB%99%E6%8C%87%E5%AE%9A%E7%B1%BB%E5%9E%8B%E6%96%87%E4%BB%B6%E6%B7%BB%E5%8A%A0%E5%9B%BE%E6%A0%87"><span class="nav-number">4.3.3.</span> <span class="nav-text">给指定类型文件添加图标</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%A0%E8%BD%BD%E7%95%A5%E7%BC%A9%E5%9B%BE"><span class="nav-number">4.4.</span> <span class="nav-text">加载略缩图</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E4%BF%AE%E6%94%B9%E6%97%B6%E9%97%B4%E7%9A%84%E6%A0%BC%E5%BC%8F"><span class="nav-number">4.5.</span> <span class="nav-text">文件修改时间的格式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%AA%E6%98%BE%E7%A4%BA%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="nav-number">4.6.</span> <span class="nav-text">只显示文件夹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%AA%E9%80%89%E6%8B%A9%E6%96%87%E4%BB%B6"><span class="nav-number">4.7.</span> <span class="nav-text">只选择文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%98%BE%E7%A4%BA%E6%8C%87%E5%AE%9A%E7%B1%BB%E5%9E%8B%E6%96%87%E4%BB%B6"><span class="nav-number">4.8.</span> <span class="nav-text">显示指定类型文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E6%9C%80%E5%A4%A7%E9%80%89%E6%8B%A9%E6%95%B0"><span class="nav-number">4.9.</span> <span class="nav-text">设置最大选择数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E5%8D%95%E9%80%89%E6%A8%A1%E5%BC%8F"><span class="nav-number">4.10.</span> <span class="nav-text">设置单选模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%80%E5%90%AF%E9%9C%87%E5%8A%A8"><span class="nav-number">4.11.</span> <span class="nav-text">开启震动</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E6%89%93%E5%BC%80%E9%80%89%E6%8B%A9%E6%A8%A1%E5%BC%8F"><span class="nav-number">4.12.</span> <span class="nav-text">自动打开选择模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E7%8A%B6%E6%80%81%E6%A0%8F%E9%A2%9C%E8%89%B2"><span class="nav-number">4.13.</span> <span class="nav-text">设置状态栏颜色</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E7%8A%B6%E6%80%81%E6%A0%8F%E5%AD%97%E4%BD%93%E9%A2%9C%E8%89%B2"><span class="nav-number">4.14.</span> <span class="nav-text">设置状态栏字体颜色</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E5%AF%BC%E8%88%AA%E6%A0%8F%E9%A2%9C%E8%89%B2"><span class="nav-number">4.15.</span> <span class="nav-text">设置导航栏颜色</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%9B%E9%98%B6%E4%BD%BF%E7%94%A8"><span class="nav-number">5.</span> <span class="nav-text">进阶使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BC%80%E6%BA%90%E5%9C%B0%E5%9D%80"><span class="nav-number">6.</span> <span class="nav-text">开源地址</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="xxin" src="https://q1.qlogo.cn/g?b=qq&nk=3033528136&s=640"><p class="site-author-name" itemprop="name">xxin</p><div class="site-description" itemprop="description">路漫漫其修远兮，吾将上下而求索。</div></div><div class="site-state-wrap site-overview-item animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">174</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">8</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">23</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author site-overview-item animated"><span class="links-of-author-item"><a href="https://github.com/xxinPro" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;xxinPro" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class="links-of-author-item"><a href="https://wpa.qq.com/msgrd?v=3&uin=3033528136&site=qq&menu=yes" title="QQ → https:&#x2F;&#x2F;wpa.qq.com&#x2F;msgrd?v&#x3D;3&amp;uin&#x3D;3033528136&amp;site&#x3D;qq&amp;menu&#x3D;yes" rel="noopener" target="_blank"><i class="fab fa-qq fa-fw"></i>QQ</a> </span><span class="links-of-author-item"><a href="mailto:x@xxin.xyz" title="E-Mail → mailto:x@xxin.xyz" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a></span></div></div></div></div></aside><div class="sidebar-dimmer"></div></header><div class="back-to-top" role="button" aria-label="返回顶部"><i class="fa fa-arrow-up"></i> <span>0%</span></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://blog.xxin.xyz/2024/01/19/FileSelector%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="https://q1.qlogo.cn/g?b=qq&nk=3033528136&s=640"><meta itemprop="name" content="xxin"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="小信笔记"><meta itemprop="description" content="路漫漫其修远兮，吾将上下而求索。"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="FileSelector使用手册 | 小信笔记"><meta itemprop="description" content="<center>Android文件选择器，支持Android 5到Android 13，完善的文件选择功能，大程度自定义界面样式，支持Android/data、Android/obb目录访问，图片、视频、GIP略缩图显示，支持Activity和注入frameLayout两种启动方式</center>"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">FileSelector使用手册</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2024-01-19 22:46:00" itemprop="dateCreated datePublished" datetime="2024-01-19T22:46:00+08:00">2024-01-19</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Android/" itemprop="url" rel="index"><span itemprop="name">Android</span></a> </span></span><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="fa fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>19k</span></span></div><div class="post-description"><center>Android文件选择器，支持Android 5到Android 13，完善的文件选择功能，大程度自定义界面样式，支持Android/data、Android/obb目录访问，图片、视频、GIP略缩图显示，支持Activity和注入frameLayout两种启动方式</center></div></div></header><div class="post-body" itemprop="articleBody"><h2 id="引用方式"><a href="#引用方式" class="headerlink" title="引用方式"></a>引用方式</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">implementation <span class="string">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="启动方式"><a href="#启动方式" class="headerlink" title="启动方式"></a>启动方式</h2><p>1、启动<code>Activity</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">FileSelector.create(<span class="built_in">this</span>)</span><br><span class="line">        .forResult(<span class="keyword">new</span> <span class="title class_">OnResultCallbackListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResult</span><span class="params">(List&lt;FileBean&gt; result)</span> &#123;</span><br><span class="line">                <span class="comment">// 文件处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCancel</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// 未选择处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><p>2、注入<code>frameLayout</code>，其中<code>forResult()</code>的第一个参数代表需要被注入的<code>frameLayout</code>的<code>id</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">FileSelector.create(<span class="built_in">this</span>)</span><br><span class="line">        .forResult(R.id.frame_layout, <span class="keyword">new</span> <span class="title class_">OnResultCallbackListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResult</span><span class="params">(List&lt;FileBean&gt; result)</span> &#123;</span><br><span class="line">                <span class="comment">// 文件处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCancel</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// 未选择处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><h2 id="操作文件"><a href="#操作文件" class="headerlink" title="操作文件"></a>操作文件</h2><p>在选择文件后，<code>FileSelector</code>将回调<code>OnResultCallbackListener</code>的<code>onResult()</code>方法，在<code>onResult()</code>方法中通过<code>List&lt;FileBean&gt;</code>集合可对文件进行操作</p><p>对于<code>FileBean</code>类，其中仅包含一个可用的<code>File</code>或<code>DocumentFile</code>类型文件对象，因为在<code>Android 11</code>及以上的系统中，<code>data</code>或<code>obb</code>目录中的子文件是<code>DocumentFile</code>类型文件对象</p><p>可以通过如下方法判断<code>FileBean</code>中包含的文件类型</p><div class="table-container"><table><thead><tr><th>方法名</th><th>返回结果</th></tr></thead><tbody><tr><td>public boolean isFile()</td><td>为<code>true</code>时表示<code>FileBean</code>中包含一个<code>File</code>类型文件对象，反之为<code>DocumentFile</code>类型文件对象</td></tr><tr><td>public boolean isDocumentFile()</td><td>为<code>true</code>时表示<code>FileBean</code>中包含一个<code>DocumentFile</code>类型文件对象，反之为<code>File</code>类型文件对象</td></tr></tbody></table></div><p>通过如下方法可以获取<code>FileBean</code>中包含的<code>File</code>或<code>DocumentFile</code>文件对象</p><div class="table-container"><table><thead><tr><th>方法名</th><th>返回结果</th></tr></thead><tbody><tr><td>public File getFile()</td><td>获取<code>FileBean</code>中包含的<code>File</code>类型文件对象</td></tr><tr><td>public DocumentFile getDocumentFile()</td><td>获取<code>FileBean</code>中包含的<code>DocumentFile</code>类型文件对象</td></tr></tbody></table></div><p>通过如下方法可以对<code>FileBean</code>类进行一些快捷操作</p><div class="table-container"><table><thead><tr><th>方法名</th><th>返回结果</th></tr></thead><tbody><tr><td>public long lastModified()</td><td>取<code>FileBean</code>中包含文件的最后修改时间</td></tr><tr><td>public long length()</td><td>取<code>FileBean</code>中包含文件的大小</td></tr><tr><td>public String getName()</td><td>取<code>FileBean</code>中包含文件的文件名</td></tr></tbody></table></div><h2 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h2><h3 id="设置起始路径"><a href="#设置起始路径" class="headerlink" title="设置起始路径"></a>设置起始路径</h3><p>设置<code>FileSelector</code>打开的起始路径，默认起始路径为<code>/storage/emulated/0</code>，可以自定义设置为任何一个存在的路径，包括<code>data(obb)</code>目录及其子目录，若<code>data(obb)</code>目录或其子目录没有访问权限将会自动申请</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">FileSelector.create(<span class="built_in">this</span>)</span><br><span class="line">        .setInitPath(Environment.getExternalStorageDirectory().getAbsolutePath())   <span class="comment">// 设置起始路径</span></span><br><span class="line">        .forResult(<span class="keyword">new</span> <span class="title class_">OnResultCallbackListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResult</span><span class="params">(List&lt;FileBean&gt; result)</span> &#123;</span><br><span class="line">                <span class="comment">// 文件处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCancel</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// 未选择处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><h3 id="设置排序规则"><a href="#设置排序规则" class="headerlink" title="设置排序规则"></a>设置排序规则</h3><p>设置文件列表的排序规则，默认根据文件名排序</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">FileSelector.create(<span class="built_in">this</span>)</span><br><span class="line">        .setSortRule(SortRule.Name) <span class="comment">// 设置排序规则</span></span><br><span class="line">        .forResult(<span class="keyword">new</span> <span class="title class_">OnResultCallbackListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResult</span><span class="params">(List&lt;FileBean&gt; result)</span> &#123;</span><br><span class="line">                <span class="comment">// 文件处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCancel</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// 未选择处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><p><code>setSortRule()</code>重载方法的第二个参数用于控制是否逆序，为<code>true</code>时代表逆序</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">FileSelector.create(<span class="built_in">this</span>)</span><br><span class="line">        .setSortRule(SortRule.Name, <span class="literal">true</span>) <span class="comment">// 设置排序规则，并进行逆序</span></span><br><span class="line">        .forResult(<span class="keyword">new</span> <span class="title class_">OnResultCallbackListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResult</span><span class="params">(List&lt;FileBean&gt; result)</span> &#123;</span><br><span class="line">                <span class="comment">// 文件处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCancel</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// 未选择处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><p><code>FileSelector</code>提供了如下三种排序规则</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">SortRule</span> &#123;</span><br><span class="line">    Time,   <span class="comment">// 按时间排序</span></span><br><span class="line">    Name,   <span class="comment">// 按文件名排序</span></span><br><span class="line">    Size,   <span class="comment">// 按大小排序</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>若不满足，可以使用自定义的排序规则；需要注意的是，设置自定义排序规则后<code>FileSelector</code>中的排序规则将不生效</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">FileSelector.create(<span class="built_in">this</span>)</span><br><span class="line">        .selfSortRule(<span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;FileItemBean&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(FileItemBean o1, FileItemBean o2)</span> &#123;</span><br><span class="line">                <span class="comment">// 自定义排序逻辑</span></span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        .forResult(<span class="keyword">new</span> <span class="title class_">OnResultCallbackListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResult</span><span class="params">(List&lt;FileBean&gt; result)</span> &#123;</span><br><span class="line">                <span class="comment">// 文件处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCancel</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// 未选择处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><h3 id="自定义文件图标"><a href="#自定义文件图标" class="headerlink" title="自定义文件图标"></a>自定义文件图标</h3><p><code>FileSelector</code>提供了默认的文件图标，若不满足可以对文件图标进行自定义设置</p><h4 id="未知文件图标"><a href="#未知文件图标" class="headerlink" title="未知文件图标"></a>未知文件图标</h4><p><code>FileSelector</code>通过文件的后缀名来设置对应的图标，所以当文件有一些不明所以的后缀名时，<code>FileSelector</code>将会为其设置一个未知文件图标，通过如下代码可以对该图标进行自定义</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">FileSelector.create(<span class="built_in">this</span>)</span><br><span class="line">        .setDefaultFileIcon(R.drawable.file_icon) <span class="comment">// 设置未知文件的图标</span></span><br><span class="line">        .forResult(<span class="keyword">new</span> <span class="title class_">OnResultCallbackListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResult</span><span class="params">(List&lt;FileBean&gt; result)</span> &#123;</span><br><span class="line">                <span class="comment">// 文件处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCancel</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// 未选择处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><h4 id="文件夹图标"><a href="#文件夹图标" class="headerlink" title="文件夹图标"></a>文件夹图标</h4><p>自定义文件夹图标</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">FileSelector.create(<span class="built_in">this</span>)</span><br><span class="line">        .setDefaultFolderIcon(R.drawable.folder_icon) <span class="comment">// 设置文件夹的图标</span></span><br><span class="line">        .forResult(<span class="keyword">new</span> <span class="title class_">OnResultCallbackListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResult</span><span class="params">(List&lt;FileBean&gt; result)</span> &#123;</span><br><span class="line">                <span class="comment">// 文件处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCancel</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// 未选择处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><h4 id="给指定类型文件添加图标"><a href="#给指定类型文件添加图标" class="headerlink" title="给指定类型文件添加图标"></a>给指定类型文件添加图标</h4><p><code>FileSelector</code>给小部分常见文件添加了图标，例如<code>jpg</code>、<code>png</code>，若对此图标不满足或想添加其他类型文件的图标，可以通过如下方式</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">FileSelector.create(<span class="built_in">this</span>)</span><br><span class="line">        .addIconBySuffix(<span class="string">&quot;jpg&quot;</span>, R.drawable.img_icon)    <span class="comment">// 给指定类型文件添加图标</span></span><br><span class="line">        .addIconBySuffix(<span class="string">&quot;png&quot;</span>, R.drawable.img_icon)    <span class="comment">// 给指定类型文件添加图标</span></span><br><span class="line">        .addIconBySuffix(<span class="string">&quot;mp3&quot;</span>, R.drawable.music_icon)  <span class="comment">// 给指定类型文件添加图标</span></span><br><span class="line">        .forResult(<span class="keyword">new</span> <span class="title class_">OnResultCallbackListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResult</span><span class="params">(List&lt;FileBean&gt; result)</span> &#123;</span><br><span class="line">                <span class="comment">// 文件处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCancel</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// 未选择处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><p>批量添加公用同一图标的文件类型，如下代码将<code>jpg</code>、<code>png</code>、<code>webp</code>的图标设置为<code>R.drawable.img_icon</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">FileSelector.create(<span class="built_in">this</span>)</span><br><span class="line">        .addBatchesIconBySuffix(</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">String</span>[] &#123;<span class="string">&quot;jpg&quot;</span>, <span class="string">&quot;png&quot;</span>, <span class="string">&quot;webp&quot;</span>&#125;, R.drawable.img_icon)</span><br><span class="line">        .forResult(<span class="keyword">new</span> <span class="title class_">OnResultCallbackListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResult</span><span class="params">(List&lt;FileBean&gt; result)</span> &#123;</span><br><span class="line">                <span class="comment">// 文件处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCancel</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// 未选择处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><p>批量添加，注意后缀名和图标的<code>drawable id</code>一一对应</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">FileSelector.create(<span class="built_in">this</span>)</span><br><span class="line">        .addBatchesIconBySuffix(</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">String</span>[] &#123;<span class="string">&quot;jpg&quot;</span>, <span class="string">&quot;png&quot;</span>, <span class="string">&quot;mp3&quot;</span>&#125;,</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">int</span>[] &#123;R.drawable.img_icon, R.drawable.img_icon, R.drawable.music_icon&#125;)</span><br><span class="line">        .forResult(<span class="keyword">new</span> <span class="title class_">OnResultCallbackListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResult</span><span class="params">(List&lt;FileBean&gt; result)</span> &#123;</span><br><span class="line">                <span class="comment">// 文件处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCancel</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// 未选择处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><h3 id="加载略缩图"><a href="#加载略缩图" class="headerlink" title="加载略缩图"></a>加载略缩图</h3><p>开启略缩图加载后，图片、GIF图片以及视频的图标将显示一个略缩图，但是加载略缩图需要加载引擎，可以参考下面使用<code>Glide</code>实现的<code>GlideEngine</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">FileSelector.create(<span class="built_in">this</span>)</span><br><span class="line">        .isDisplayThumbnail(<span class="literal">true</span>)   <span class="comment">// 开启略缩图加载</span></span><br><span class="line">        .setImageEngine(GlideEngine.createGlideEngine()) <span class="comment">// 设置略缩图加载引擎</span></span><br><span class="line">        .forResult(<span class="keyword">new</span> <span class="title class_">OnResultCallbackListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResult</span><span class="params">(List&lt;FileBean&gt; result)</span> &#123;</span><br><span class="line">                <span class="comment">// 文件处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCancel</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// 未选择处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><p>GlideEngine<br></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GlideEngine</span> <span class="keyword">implements</span> <span class="title class_">ImageEngine</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">volatile</span> GlideEngine glideEngine;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">GlideEngine</span> <span class="params">()</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> GlideEngine <span class="title function_">createGlideEngine</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (glideEngine == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (GlideEngine.class) &#123;</span><br><span class="line">                <span class="keyword">if</span> (glideEngine == <span class="literal">null</span>) &#123;</span><br><span class="line">                    glideEngine = <span class="keyword">new</span> <span class="title class_">GlideEngine</span>();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> glideEngine;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">loadFileImage</span><span class="params">(Context context, File file, ImageView imageView, <span class="type">int</span> defaultDrawableId)</span> &#123;</span><br><span class="line">        <span class="type">RequestOptions</span> <span class="variable">options</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RequestOptions</span>()</span><br><span class="line">                .centerCrop()</span><br><span class="line">                .placeholder(defaultDrawableId);</span><br><span class="line">        Glide.with(context)</span><br><span class="line">                .load(file)</span><br><span class="line">                .apply(options)</span><br><span class="line">                .into(imageView);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">loadDocumentFileImage</span><span class="params">(Context context, DocumentFile documentFile, ImageView imageView, <span class="type">int</span> defaultDrawableId)</span> &#123;</span><br><span class="line">        <span class="type">RequestOptions</span> <span class="variable">options</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RequestOptions</span>()</span><br><span class="line">                .centerCrop()</span><br><span class="line">                .placeholder(defaultDrawableId);</span><br><span class="line">        Glide.with(context)</span><br><span class="line">                .load(documentFile.getUri())</span><br><span class="line">                .apply(options)</span><br><span class="line">                .into(imageView);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><h3 id="文件修改时间的格式"><a href="#文件修改时间的格式" class="headerlink" title="文件修改时间的格式"></a>文件修改时间的格式</h3><p><code>FileSelector</code>中默认的文件修改时间的显示格式是<code>2024-01-01 12:30:26</code>，可以通过如下方式修改</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">FileSelector.create(<span class="built_in">this</span>)</span><br><span class="line">        .setLastModifiedPattern(<span class="string">&quot;yyyy年MM月dd日 HH时mm分ss秒&quot;</span>) <span class="comment">// 设置文件最后修改时间的显示格式</span></span><br><span class="line">        .forResult(<span class="keyword">new</span> <span class="title class_">OnResultCallbackListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResult</span><span class="params">(List&lt;FileBean&gt; result)</span> &#123;</span><br><span class="line">                <span class="comment">// 文件处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCancel</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// 未选择处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><h3 id="只显示文件夹"><a href="#只显示文件夹" class="headerlink" title="只显示文件夹"></a>只显示文件夹</h3><p>设置文件列表中只显示文件夹，不显示文件</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">FileSelector.create(<span class="built_in">this</span>)</span><br><span class="line">        .isOnlyDisplayFolder(<span class="literal">true</span>)  <span class="comment">// 只显示文件夹</span></span><br><span class="line">        .forResult(<span class="keyword">new</span> <span class="title class_">OnResultCallbackListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResult</span><span class="params">(List&lt;FileBean&gt; result)</span> &#123;</span><br><span class="line">                <span class="comment">// 文件处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCancel</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// 未选择处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><h3 id="只选择文件"><a href="#只选择文件" class="headerlink" title="只选择文件"></a>只选择文件</h3><p>设置只能选择文件，禁止选择文件夹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">FileSelector.create(<span class="built_in">this</span>)</span><br><span class="line">        .isOnlySelectFile(<span class="literal">true</span>) <span class="comment">// 只能选择文件</span></span><br><span class="line">        .forResult(<span class="keyword">new</span> <span class="title class_">OnResultCallbackListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResult</span><span class="params">(List&lt;FileBean&gt; result)</span> &#123;</span><br><span class="line">                <span class="comment">// 文件处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCancel</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// 未选择处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><h3 id="显示指定类型文件"><a href="#显示指定类型文件" class="headerlink" title="显示指定类型文件"></a>显示指定类型文件</h3><p>设置仅显示指定类型的文件，如下代码设置后，将仅显示<code>jpg</code>、<code>txt</code>、<code>mp3</code>类型的文件</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">FileSelector.create(<span class="built_in">this</span>)</span><br><span class="line">        .addDisplayType(<span class="string">&quot;jpg&quot;</span>, <span class="string">&quot;txt&quot;</span>, <span class="string">&quot;mp3&quot;</span>)    <span class="comment">// 仅显示指定类型文件</span></span><br><span class="line">        .forResult(<span class="keyword">new</span> <span class="title class_">OnResultCallbackListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResult</span><span class="params">(List&lt;FileBean&gt; result)</span> &#123;</span><br><span class="line">                <span class="comment">// 文件处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCancel</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// 未选择处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><h3 id="设置最大选择数"><a href="#设置最大选择数" class="headerlink" title="设置最大选择数"></a>设置最大选择数</h3><p>如下代码设置后，在选择文件时最多只能选择<code>5</code>个</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">FileSelector.create(<span class="built_in">this</span>)</span><br><span class="line">        .setMaxSelectValue(<span class="number">5</span>)    <span class="comment">// 设置文件最大选择数</span></span><br><span class="line">        .forResult(<span class="keyword">new</span> <span class="title class_">OnResultCallbackListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResult</span><span class="params">(List&lt;FileBean&gt; result)</span> &#123;</span><br><span class="line">                <span class="comment">// 文件处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCancel</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// 未选择处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><p>设置最大选择数支持添加一个文件选择回调，将会在选择<code>item</code>时调用该回调方法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">FileSelector.create(<span class="built_in">this</span>)</span><br><span class="line">        <span class="comment">// 设置文件最大选择数，同时设置一个文件选择回调</span></span><br><span class="line">        .setMaxSelectValue(<span class="number">5</span>, <span class="keyword">new</span> <span class="title class_">OnSelectCallBackListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSelectCallBack</span><span class="params">(<span class="type">int</span> maxSelectCount, <span class="type">int</span> currentSelectCount)</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (currentSelectCount &gt;= maxSelectCount) &#123;</span><br><span class="line">                    Toast.makeText(SelectActivity.<span class="built_in">this</span>, <span class="string">&quot;最多选择&quot;</span> + maxSelectCount + <span class="string">&quot;个文件~&quot;</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        .forResult(<span class="keyword">new</span> <span class="title class_">OnResultCallbackListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResult</span><span class="params">(List&lt;FileBean&gt; result)</span> &#123;</span><br><span class="line">                <span class="comment">// 文件处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCancel</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// 未选择处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><h3 id="设置单选模式"><a href="#设置单选模式" class="headerlink" title="设置单选模式"></a>设置单选模式</h3><p>在设置单选模式后，将仅能选择一个文件或文件夹；单选模式不同于设置最大选择数为1，具体区别请自行测试</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">FileSelector.create(<span class="built_in">this</span>)</span><br><span class="line">        .isSingle(<span class="literal">true</span>)     <span class="comment">// 设置为单选模式</span></span><br><span class="line">        .forResult(<span class="keyword">new</span> <span class="title class_">OnResultCallbackListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResult</span><span class="params">(List&lt;FileBean&gt; result)</span> &#123;</span><br><span class="line">                <span class="comment">// 文件处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCancel</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// 未选择处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><h3 id="开启震动"><a href="#开启震动" class="headerlink" title="开启震动"></a>开启震动</h3><p>默认为开启状态，选择文件或文件夹时将轻微震动手机</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">FileSelector.create(<span class="built_in">this</span>)</span><br><span class="line">        .isVibrator(<span class="literal">true</span>)   <span class="comment">// 开启震动</span></span><br><span class="line">        .forResult(<span class="keyword">new</span> <span class="title class_">OnResultCallbackListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResult</span><span class="params">(List&lt;FileBean&gt; result)</span> &#123;</span><br><span class="line">                <span class="comment">// 文件处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCancel</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// 未选择处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><h3 id="自动打开选择模式"><a href="#自动打开选择模式" class="headerlink" title="自动打开选择模式"></a>自动打开选择模式</h3><p>开启后，在进入文件选择页面时将自动打开文件选择模式</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">FileSelector.create(<span class="built_in">this</span>)</span><br><span class="line">        .isAutoOpenSelectMode(<span class="literal">true</span>) <span class="comment">// 自动打开选择模式</span></span><br><span class="line">        .forResult(<span class="keyword">new</span> <span class="title class_">OnResultCallbackListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResult</span><span class="params">(List&lt;FileBean&gt; result)</span> &#123;</span><br><span class="line">                <span class="comment">// 文件处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCancel</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// 未选择处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><h3 id="设置状态栏颜色"><a href="#设置状态栏颜色" class="headerlink" title="设置状态栏颜色"></a>设置状态栏颜色</h3><p>设置状态栏颜色在<code>fragment</code>注入模式下同样生效，所以在选择文件之后可能需要重新设置<code>frameLayout</code>所属<code>Activity</code>的状态栏颜色</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">FileSelector.create(<span class="built_in">this</span>)</span><br><span class="line">        .setStatusBarColor(R.color.blue)    <span class="comment">// 设置状态栏颜色</span></span><br><span class="line">        .forResult(<span class="keyword">new</span> <span class="title class_">OnResultCallbackListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResult</span><span class="params">(List&lt;FileBean&gt; result)</span> &#123;</span><br><span class="line">                <span class="comment">// 文件处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCancel</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// 未选择处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><h3 id="设置状态栏字体颜色"><a href="#设置状态栏字体颜色" class="headerlink" title="设置状态栏字体颜色"></a>设置状态栏字体颜色</h3><p>状态栏字体颜色只有黑色和白色两种，当为<code>true</code>时状态栏字体颜色将显示黑色</p><p>在<code>fragment</code>注入模式下同样生效，所以在选择文件之后可能需要重新设置<code>frameLayout</code>所属<code>Activity</code>的状态栏字体颜色</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">FileSelector.create(<span class="built_in">this</span>)</span><br><span class="line">        .setStatusBarTextColor(<span class="literal">true</span>)  <span class="comment">// 设置状态栏字体颜色</span></span><br><span class="line">        .forResult(<span class="keyword">new</span> <span class="title class_">OnResultCallbackListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResult</span><span class="params">(List&lt;FileBean&gt; result)</span> &#123;</span><br><span class="line">                <span class="comment">// 文件处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCancel</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// 未选择处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><h3 id="设置导航栏颜色"><a href="#设置导航栏颜色" class="headerlink" title="设置导航栏颜色"></a>设置导航栏颜色</h3><p>设置底部虚拟导航栏的颜色在<code>fragment</code>注入模式下同样生效，所以在选择文件之后可能需要重新设置<code>frameLayout</code>所属<code>Activity</code>的导航栏颜色</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">FileSelector.create(<span class="built_in">this</span>)</span><br><span class="line">        .setNavigationBarColor(R.color.blue)    <span class="comment">// 设置导航栏颜色</span></span><br><span class="line">        .forResult(<span class="keyword">new</span> <span class="title class_">OnResultCallbackListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResult</span><span class="params">(List&lt;FileBean&gt; result)</span> &#123;</span><br><span class="line">                <span class="comment">// 文件处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCancel</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// 未选择处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><h2 id="进阶使用"><a href="#进阶使用" class="headerlink" title="进阶使用"></a>进阶使用</h2><p>1、设置<code>FileSelector</code>最下面一层<code>view</code>的样式</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">FileSelectorViewStyle</span> <span class="variable">fileSelectorViewStyle</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileSelectorViewStyle</span>();</span><br><span class="line">fileSelectorViewStyle.setBackgroundColorId(R.color.white);              <span class="comment">// 底层背景色</span></span><br><span class="line">fileSelectorViewStyle.setBackgroundDrawableId(R.drawable.background);   <span class="comment">// 底层背景图</span></span><br><span class="line"></span><br><span class="line">FileSelector.create(<span class="built_in">this</span>)</span><br><span class="line">        .setFileSelectorViewStyle(fileSelectorViewStyle)</span><br><span class="line">        .forResult(<span class="keyword">new</span> <span class="title class_">OnResultCallbackListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResult</span><span class="params">(List&lt;FileBean&gt; result)</span> &#123;</span><br><span class="line">                <span class="comment">// 文件处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCancel</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// 未选择处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><p>2、设置<code>FileSelector</code>顶部栏的样式</p><p><img src="https://img.xxin.xyz/img/admin/2024/01/19/11a69gn.png" height="40%" width="40%"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">FileSelectorTitleBarStyle</span> <span class="variable">fileSelectorTitleBarStyle</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileSelectorTitleBarStyle</span>();</span><br><span class="line"><span class="comment">// 设置顶部栏高度，以dp为单位</span></span><br><span class="line">fileSelectorTitleBarStyle.setHeight(<span class="number">50</span>);</span><br><span class="line"><span class="comment">// 设置顶部栏背景色</span></span><br><span class="line">fileSelectorTitleBarStyle.setBackgroundColorId(R.color.blue);</span><br><span class="line"><span class="comment">// 设置顶部栏左侧返回按钮的图片drawable资源id</span></span><br><span class="line">fileSelectorTitleBarStyle.setOverImageDrawableId(R.drawable.back);</span><br><span class="line"><span class="comment">// 设置顶部栏中间标题text</span></span><br><span class="line">fileSelectorTitleBarStyle.setTitleText(<span class="string">&quot;请选择文件&quot;</span>);</span><br><span class="line"><span class="comment">// 设置顶部栏中间标题的字体大小，以sp为单位</span></span><br><span class="line">fileSelectorTitleBarStyle.setTitleTextSize(<span class="number">20</span>);</span><br><span class="line"><span class="comment">// 设置顶部栏中间标题的字体颜色</span></span><br><span class="line">fileSelectorTitleBarStyle.setTitleTextColorId(R.color.white);</span><br><span class="line"><span class="comment">// 设置顶部栏右侧的按钮，在进入选择模式之后的text</span></span><br><span class="line">fileSelectorTitleBarStyle.setStartControlText(<span class="string">&quot;取消&quot;</span>);</span><br><span class="line"><span class="comment">// 设置顶部栏右侧的按钮，在退出选择模式之后的text</span></span><br><span class="line">fileSelectorTitleBarStyle.setEndControlText(<span class="string">&quot;全选&quot;</span>);</span><br><span class="line"><span class="comment">// 设置顶部栏右侧的按钮的字体大小</span></span><br><span class="line">fileSelectorTitleBarStyle.setControlTextSize(<span class="number">16</span>);</span><br><span class="line"><span class="comment">// 设置顶部栏右侧的按钮的字体颜色</span></span><br><span class="line">fileSelectorTitleBarStyle.setControlTextColorId(R.color.white);</span><br><span class="line"></span><br><span class="line">FileSelector.create(<span class="built_in">this</span>)</span><br><span class="line">        .setFileSelectorTitleBarStyle(fileSelectorTitleBarStyle)</span><br><span class="line">        .forResult(<span class="keyword">new</span> <span class="title class_">OnResultCallbackListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResult</span><span class="params">(List&lt;FileBean&gt; result)</span> &#123;</span><br><span class="line">                <span class="comment">// 文件处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCancel</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// 未选择处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><p>3、设置<code>FileSelector</code>路径显示栏的样式</p><p><img src="https://img.xxin.xyz/img/admin/2024/01/19/11bgyiw.png" height="40%" width="40%"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">FileSelectorPathBarStyle</span> <span class="variable">fileSelectorPathBarStyle</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileSelectorPathBarStyle</span>();</span><br><span class="line"><span class="comment">// 设置路径栏背景色</span></span><br><span class="line">fileSelectorPathBarStyle.setBackgroundColorId(R.color.white);</span><br><span class="line"><span class="comment">// 设置路径栏头item的背景色</span></span><br><span class="line">fileSelectorPathBarStyle.setHeadItemBackgroundColorId(R.color.blue);</span><br><span class="line"><span class="comment">// 设置路径栏头item的字体颜色</span></span><br><span class="line">fileSelectorPathBarStyle.setHeadItemTextColorId(R.color.white);</span><br><span class="line"><span class="comment">// 设置路径栏其余item的背景色</span></span><br><span class="line">fileSelectorPathBarStyle.setItemBackgroundColorId(R.color.gray);</span><br><span class="line"><span class="comment">// 设置路径栏其余item的字体颜色</span></span><br><span class="line">fileSelectorPathBarStyle.setItemTextColorId(R.color.black);</span><br><span class="line"><span class="comment">// 设置路径栏所有item的字体大小</span></span><br><span class="line">fileSelectorPathBarStyle.setItemTextSize(<span class="number">16</span>);</span><br><span class="line"><span class="comment">// 设置路径栏item之间箭头图片的drawable资源id</span></span><br><span class="line">fileSelectorPathBarStyle.setArrowImageDrawableId(R.drawable.arrow);</span><br><span class="line"><span class="comment">// 设置文件数量的描述</span></span><br><span class="line">fileSelectorPathBarStyle.setFileCountDescription(<span class="string">&quot;文件数量：&quot;</span>);</span><br><span class="line"><span class="comment">// 设置文件夹数量的描述</span></span><br><span class="line">fileSelectorPathBarStyle.setFolderCountDescription(<span class="string">&quot;文件夹数量：&quot;</span>);</span><br><span class="line"><span class="comment">// 设置文件及文件夹数量描述的字体颜色</span></span><br><span class="line">fileSelectorPathBarStyle.setDescriptionColorId(R.color.black);</span><br><span class="line"><span class="comment">// 设置文件及文件夹数量描述的字体大小</span></span><br><span class="line">fileSelectorPathBarStyle.setDescriptionTextSize(<span class="number">16</span>);</span><br><span class="line"></span><br><span class="line">FileSelector.create(<span class="built_in">this</span>)</span><br><span class="line">        .setFileSelectorPathBatStyle(fileSelectorPathBarStyle)</span><br><span class="line">        .forResult(<span class="keyword">new</span> <span class="title class_">OnResultCallbackListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResult</span><span class="params">(List&lt;FileBean&gt; result)</span> &#123;</span><br><span class="line">                <span class="comment">// 文件处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCancel</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// 未选择处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><p>4、设置<code>FileSelector</code>列表样式</p><p>列表item的宽高、内边距、外边距及下划线，可以通过<code>RecyclerView</code>的<code>addItemDecoration()</code>方法设置，<code>ItemDecoration</code>可以参考下面的<code>CustomItemDecoration</code></p><p><img src="https://img.xxin.xyz/img/admin/2024/01/19/11choh2.png" height="40%" width="40%"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">FileSelectorListViewStyle</span> <span class="variable">fileSelectorListViewStyle</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileSelectorListViewStyle</span>();</span><br><span class="line"><span class="comment">// 设置列表背景色</span></span><br><span class="line">fileSelectorListViewStyle.setBackgroundColorId(R.color.white);</span><br><span class="line"><span class="comment">// 设置当前目录为空时的提示</span></span><br><span class="line">fileSelectorListViewStyle.setEmptyFolderDescription(<span class="string">&quot;当前文件夹为空&quot;</span>);</span><br><span class="line"><span class="comment">// 设置当前目录为空时提示的字体颜色</span></span><br><span class="line">fileSelectorListViewStyle.setEmptyFolderDescriptionTextColorId(R.color.black);</span><br><span class="line"><span class="comment">// 设置当前目录为空时提示的字体大小</span></span><br><span class="line">fileSelectorListViewStyle.setEmptyFolderDescriptionTextSize(<span class="number">20</span>);</span><br><span class="line"><span class="comment">// 设置当前目录为空时页面的背景色</span></span><br><span class="line">fileSelectorListViewStyle.setEmptyFolderBackgroundColorId(R.color.white);</span><br><span class="line"><span class="comment">// 设置列表加载过程的提示</span></span><br><span class="line">fileSelectorListViewStyle.setLoadProgressDescription(<span class="string">&quot;文件加载中...&quot;</span>);</span><br><span class="line"><span class="comment">// 设置列表加载过程提示的字体颜色</span></span><br><span class="line">fileSelectorListViewStyle.setLoadProgressDescriptionTextColorId(R.color.black);</span><br><span class="line"><span class="comment">// 设置列表加载过程提示的字体大小</span></span><br><span class="line">fileSelectorListViewStyle.setLoadProgressDescriptionTextSize(<span class="number">20</span>);</span><br><span class="line"><span class="comment">// 设置加载时环形进度条的颜色</span></span><br><span class="line">fileSelectorListViewStyle.setLoadProgressBarColorId(R.color.blue);</span><br><span class="line"><span class="comment">// 设置加载页面的背景色</span></span><br><span class="line">fileSelectorListViewStyle.setLoadProgressBackgroundColorId(R.color.white);</span><br><span class="line"><span class="comment">// 设置item的装饰</span></span><br><span class="line">fileSelectorListViewStyle.setItemDecoration(<span class="keyword">new</span> <span class="title class_">CustomItemDecoration</span>(<span class="built_in">this</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 以下代码是对item一些样式的设置</span></span><br><span class="line">FileSelectorListViewStyle.<span class="type">FileSelectorListItemStyle</span> <span class="variable">fileSelectorListItemStyle</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileSelectorListViewStyle</span>.FileSelectorListItemStyle();</span><br><span class="line"><span class="comment">// 设置item背景色</span></span><br><span class="line">fileSelectorListItemStyle.setItemBackgroundColorId(R.color.white);</span><br><span class="line"><span class="comment">// 设置item被点击时变化的背景色</span></span><br><span class="line">fileSelectorListItemStyle.setItemActionDownBackgroundColorId(R.color.gray);</span><br><span class="line"><span class="comment">// 设置item中文件名的字体颜色</span></span><br><span class="line">fileSelectorListItemStyle.setFileNameTextColorId(R.color.black);</span><br><span class="line"><span class="comment">// 设置item中文件名的字体大小</span></span><br><span class="line">fileSelectorListItemStyle.setFileSizeTextSize(<span class="number">16</span>);</span><br><span class="line"><span class="comment">// 设置item中文件修改时间的字体颜色</span></span><br><span class="line">fileSelectorListItemStyle.setLastModifiedTextColorId(R.color.gray);</span><br><span class="line"><span class="comment">// 设置item中文件修改时间的字体大小</span></span><br><span class="line">fileSelectorListItemStyle.setLastModifiedTextSize(<span class="number">16</span>);</span><br><span class="line"><span class="comment">// 设置item中文件大小的字体颜色</span></span><br><span class="line">fileSelectorListItemStyle.setFileSizeTextColorId(R.color.gray);</span><br><span class="line"><span class="comment">// 设置item中文件大小的字体大小</span></span><br><span class="line">fileSelectorListItemStyle.setFileSizeTextSize(<span class="number">16</span>);</span><br><span class="line"><span class="comment">// 设置item文件夹右侧箭头图片drawable资源id</span></span><br><span class="line">fileSelectorListItemStyle.setArrowDrawableId(R.drawable.arrow);</span><br><span class="line"><span class="comment">// 设置item被选中后，checkBox显示的图片drawable资源id</span></span><br><span class="line">fileSelectorListItemStyle.setSelectedDrawableId(R.drawable.selected);</span><br><span class="line"><span class="comment">// 设置item未被选中时，checkBox显示的图片drawable资源id</span></span><br><span class="line">fileSelectorListItemStyle.setDeselectedDrawableId(R.drawable.deselected);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置item的样式</span></span><br><span class="line">fileSelectorListViewStyle.setFileSelectorListItemStyle(fileSelectorListItemStyle);</span><br><span class="line"></span><br><span class="line">FileSelector.create(<span class="built_in">this</span>)</span><br><span class="line">        .setFileSelectorListViewStyle(fileSelectorListViewStyle)</span><br><span class="line">        .forResult(<span class="keyword">new</span> <span class="title class_">OnResultCallbackListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResult</span><span class="params">(List&lt;FileBean&gt; result)</span> &#123;</span><br><span class="line">                <span class="comment">// 文件处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCancel</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// 未选择处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><p>CustomItemDecoration<br></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CustomItemDecoration</span> <span class="keyword">extends</span> <span class="title class_">RecyclerView</span>.ItemDecoration &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Context context;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">CustomItemDecoration</span><span class="params">(Context context)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>();</span><br><span class="line">        <span class="built_in">this</span>.context = context;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onDraw</span><span class="params">(<span class="meta">@NonNull</span> Canvas c, <span class="meta">@NonNull</span> RecyclerView parent, <span class="meta">@NonNull</span> RecyclerView.State state)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.onDraw(c, parent, state);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onDrawOver</span><span class="params">(<span class="meta">@NonNull</span> Canvas c, <span class="meta">@NonNull</span> RecyclerView parent, <span class="meta">@NonNull</span> RecyclerView.State state)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.onDrawOver(c, parent, state);</span><br><span class="line">        <span class="comment">// 在相邻item之间绘制一条分割线</span></span><br><span class="line">        <span class="type">Paint</span> <span class="variable">paint</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Paint</span>();</span><br><span class="line">        paint.setColor(context.getResources().getColor(R.color.black));</span><br><span class="line">        paint.setStrokeWidth(PixelsUtil.dp2px(<span class="number">1</span>, context));</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">childCount</span> <span class="operator">=</span> parent.getChildCount();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; childCount; i++) &#123;</span><br><span class="line">            <span class="type">View</span> <span class="variable">child</span> <span class="operator">=</span> parent.getChildAt(i);</span><br><span class="line">            c.drawLine(child.getLeft() + <span class="number">20</span>, child.getBottom(), child.getRight() - <span class="number">20</span>, child.getBottom(), paint);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getItemOffsets</span><span class="params">(<span class="meta">@NonNull</span> Rect outRect, <span class="meta">@NonNull</span> View view, <span class="meta">@NonNull</span> RecyclerView parent, <span class="meta">@NonNull</span> RecyclerView.State state)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.getItemOffsets(outRect, view, parent, state);</span><br><span class="line">        <span class="comment">// 相当于设置item的margin</span></span><br><span class="line">        outRect.set(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        <span class="comment">// 设置item的padding，不会改变onDrawOver中绘制的分割线</span></span><br><span class="line">        view.setPadding(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">        <span class="comment">// 设置item宽高</span></span><br><span class="line">        RecyclerView.<span class="type">LayoutParams</span> <span class="variable">layoutParams</span> <span class="operator">=</span> (RecyclerView.LayoutParams) view.getLayoutParams();</span><br><span class="line">        layoutParams.height = RecyclerView.LayoutParams.WRAP_CONTENT;</span><br><span class="line">        layoutParams.width = RecyclerView.LayoutParams.MATCH_PARENT;</span><br><span class="line">        <span class="comment">// layoutParams.setMargins(0,0,0,0); // 也可以通过layoutParams设置item的margin</span></span><br><span class="line">        view.setLayoutParams(layoutParams);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>5、设置<code>FileSelector</code>底部栏样式</p><p><img src="https://img.xxin.xyz/img/admin/2024/01/19/11cmjwo.png" height="40%" width="40%"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">FileSelectorFootBarStyle</span> <span class="variable">fileSelectorFootBarStyle</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileSelectorFootBarStyle</span>();</span><br><span class="line"><span class="comment">// 设置底部栏背景色</span></span><br><span class="line">fileSelectorFootBarStyle.setBackgroundColorId(R.color.gray);</span><br><span class="line"><span class="comment">// 设置底部栏按钮的背景色</span></span><br><span class="line">fileSelectorFootBarStyle.setBtnBackgroundColorId(R.color.white);</span><br><span class="line"><span class="comment">// 设置底部栏按钮按下后变化的背景色</span></span><br><span class="line">fileSelectorFootBarStyle.setBtnActionDownBackgroundColorId(R.color.gray);</span><br><span class="line"><span class="comment">// 设置底部栏左边按钮的text</span></span><br><span class="line">fileSelectorFootBarStyle.setLeftButtonText(<span class="string">&quot;全选&quot;</span>);</span><br><span class="line"><span class="comment">// 设置item被全选后底部栏左边按钮的text</span></span><br><span class="line">fileSelectorFootBarStyle.setLeftButtonSelectedAllText(<span class="string">&quot;取消全选&quot;</span>);</span><br><span class="line"><span class="comment">// 设置底部栏右边按钮的text</span></span><br><span class="line">fileSelectorFootBarStyle.setRightButtonText(<span class="string">&quot;确定&quot;</span>);</span><br><span class="line"><span class="comment">// 设置底部栏按钮的字体颜色</span></span><br><span class="line">fileSelectorFootBarStyle.setButtonTextColorId(R.color.black);</span><br><span class="line"><span class="comment">// 设置底部栏按钮的字体大小</span></span><br><span class="line">fileSelectorFootBarStyle.setButtonTextSize(<span class="number">16</span>);</span><br><span class="line"></span><br><span class="line">FileSelector.create(<span class="built_in">this</span>)</span><br><span class="line">        .setFileSelectorFootBarStyle(fileSelectorFootBarStyle)</span><br><span class="line">        .forResult(<span class="keyword">new</span> <span class="title class_">OnResultCallbackListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResult</span><span class="params">(List&lt;FileBean&gt; result)</span> &#123;</span><br><span class="line">                <span class="comment">// 文件处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCancel</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// 未选择处理逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><h2 id="开源地址"><a href="#开源地址" class="headerlink" title="开源地址"></a>开源地址</h2><p>还没有开源😀</p></div><footer class="post-footer"><div class="post-tags"><a href="/tags/Android%E5%BC%80%E5%8F%91%E6%89%8B%E8%AE%B0/" rel="tag"><i class="fa fa-tag"></i> Android开发手记</a></div><div class="post-nav"><div class="post-nav-item"><a href="/2024/01/17/fragment%E7%9B%91%E5%90%AC%E8%BF%94%E5%9B%9E%E9%94%AE/" rel="prev" title="fragment监听返回键"><i class="fa fa-chevron-left"></i> fragment监听返回键</a></div><div class="post-nav-item"></div></div></footer></article></div></div></main><footer class="footer"><div class="footer-inner"><div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">鲁ICP备19064654号-5</a></div><div class="copyright">&copy; 2019 – <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">xxin</span></div></div></footer><script src="https://lib.baomitu.com/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script><script src="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script><script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="https://lib.baomitu.com/hexo-generator-searchdb/1.4.0/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script><script src="/js/third-party/search/local-search.js"></script><script src="/js/third-party/fancybox.js"></script><script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"ams","js":{"url":"https://lib.baomitu.com/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script><script src="/js/third-party/math/mathjax.js"></script></body></html>